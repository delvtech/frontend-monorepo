{"mappings":";AAGA;;;;;;;;;;GAUG;;AACH,wBAWG","sources":["packages/parcel-transformer-graphql-document-node/index.ts"],"sourcesContent":["import { Transformer } from \"@parcel/plugin\";\nimport { parse, Source } from \"graphql\";\n\n/**\n * A custom Parcel transformer that converts GraphQL files into `DocumentNode`s\n *\n * This is needed because the plugin that is automatically installed by Parcel\n * for GraphQL files will cause the build to fail if the GraphQL doesn't\n * include any operations (e.g., queries, mutations).\n *\n * An important thing to note is that this transformer does not load other\n * GraphQL fragments imported with the `# import` syntax, while the default\n * GraphQL transformer does.\n */\nexport default new Transformer({\n  async transform({ asset }) {\n    const code = await asset.getCode();\n    const source = new Source(code, asset.filePath);\n    const document = parse(source);\n\n    asset.type = \"js\";\n    asset.setCode(`module.exports=${JSON.stringify(document)};`);\n\n    return [asset];\n  },\n});\n"],"names":[],"version":3,"file":"main.d.ts.map"}